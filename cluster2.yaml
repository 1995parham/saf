---
cluster:
  noAdvertise: true
  enabled: true
  replicas: 3
  name: parham-testing-c2

commonLabels:
  app: jetstream

securityContext:
  sysctls:
    - name: net.core.somaxconn
      value: "16384"

natsbox:
  enabled: false

gateway:
  enabled: true
  name: parham-testing-c2
  advertise: c2-nats:7522
  rejectUnknownCluster: true
  gateways:
    - name: parham-testing-c1
      urls:
        - nats://c1-nats:7522

nats:
  image: nats:2.8.2-alpine
  serverNamePrefix: c2-

  jetstream:
    enabled: true
    memStorage:
      enabled: true
      size: 50m
    fileStorage:
      enabled: false
      storageDirectory: /data

      # Set for use with existing PVC
      # existingClaim: jetstream-pvc
      # claimStorageSize: 1Gi

      # Use below block to create new persistent volume
      # only used if existingClaim is not specified
      size: 12Gi
      # storageClassName: ""
      accessModes:
        - ReadWriteOnce
      annotations:
      # key: "value"

  resources:
    requests:
      cpu: 100m
      memory: 100Mi
      ephemeral-storage: 1Gi
    limits:
      cpu: 100m
      memory: 100Mi
      ephemeral-storage: 1Gi

auth:
  enabled: true
  systemAccount: admin
  basic:
    accounts:
      admin:
        users:
          - user: parham
            password: parham

exporter:
  serviceMonitor:
    enabled: true

# Define a Pod Disruption Budget for the stateful set
# ref: https://kubernetes.io/docs/concepts/workloads/pods/disruptions/
podDisruptionBudget:
  enabled: false
  maxUnavailable: 1
  # minAvailable: 1
